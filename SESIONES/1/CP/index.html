<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
</head>
<body>
    <!--1° Voy a crear la vista
    creo tres cajas de texto (3 inputs), un botón-->
    <input id="num1" placeholder="Ingresa el número 1" type="number">
    <input id="num2" placeholder="Ingresa el número 2" type="number">
    <input type="button" value="Add" onclick="sumar()">
    <input id="resultado" placeholder="Resultado" type="number" readonly>
    
</body>
</html>
<script>
    function sumar(){
        //1° Recupero datos del html
        //DOM contiene todo el HTML
        //let datoz = document.getElementsByClassName().value();
        //let daton = document.querySelector().value();
        //JSON mayuscula = metodo
        //JSON minuscula = formato
        let dato1 = document.getElementById("num1").value;
        let dato2 = document.getElementById("num2").value;
        //2° Envío los datos a la API
        fetch("/add", {
            headers:{"Content-Type": "application/json", "accept": "application/json"},
            //        ^FORMATO QUE SE VA
            //                              ^INFORMACIÓN QUE ESTÁ EN LA COMUNICACIÓN
            method:"POST", body:JSON.stringify({ 
                a:dato1, b:dato2 
            })
        })
        //3° Capturo la promesa
        //consigo el resultado
        .then((res) => res.json())
        //4° Muestro el resultado
        //seteo el resultado en la caja, para que se imprima
        .then((res)=>{ document.getElementById("resultado").value = res.result })
        
    }
</script>